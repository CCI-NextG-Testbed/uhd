#
# Copyright 2021 Ettus Research, a National Instruments Brand
#
# SPDX-License-Identifier: LGPL-3.0-or-later
#

parameters:
- name: build_linux
  type: boolean
  default: true
- name: build_mac
  type: boolean
  default: true
- name: build_win
  type: boolean
  default: true
- name: custom_boost_version
  type: boolean
  default: false
- name: custom_boost_version_url
  type: string
  default: 'https://boostorg.jfrog.io/artifactory/main/release/1.76.0/source/boost_1_76_0.tar.bz2'
- name: release_binaries
  type: boolean
  default: false

trigger: none

pr:
  branches:
    include:
    - master
  paths:
    include:
    - host
    - .ci
    - images/manifest.txt
    exclude:
    - .ci/docker
    - host/docs
    - host/LICENSE
    - host/README.md

extends:
  template: templates/stages-uhd-pipeline.yml
  parameters:
    build_linux: ${{ parameters.build_linux }}
    build_mac: ${{ parameters.build_mac }}
    build_win: ${{ parameters.build_win }}
    custom_boost_version: ${{ parameters.custom_boost_version }}
    custom_boost_version_url: ${{ parameters.custom_boost_version_url }}
    release_binaries: ${{ parameters.release_binaries }}
